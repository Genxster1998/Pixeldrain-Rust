<div align="left">
  <img src="assets/dark-icon.png" alt="PixelDrain Dark Icon" width="64" />
</div>

# PixelDrain
[![Build Status](https://github.com/Genxster1998/Pixeldrain-Rust/actions/workflows/ci.yml/badge.svg)](https://github.com/Genxster1998/Pixeldrain-Rust/actions)
[![License: MIT](https://img.shields.io/badge/License-MIT-green.svg)](LICENSE)
[![Crates.io](https://img.shields.io/crates/v/pixeldrain.svg?label=crates.io)](https://crates.io/crates/pixeldrain)

A modern, cross-platform unofficial desktop client for [PixelDrain](https://pixeldrain.com) file sharing service, built with Rust and egui/eframe.

## Features
- 📤 Upload files with progress tracking (API key required)
- 📥 Download files from PixelDrain URLs (no API key required)
- 📋 Copy shareable links to clipboard
- 📁 Manage your uploaded files
- ⚙ Configure API key and settings
- 🔑 Environment variable support (`PIXELDRAIN_API_KEY`)
- 🖼 Thumbnail support in file list
- 🌗 Light/Dark theme toggle

## Platforms
- **macOS** (aarch64 and x86_64, DMG and .app bundle)
- **Windows** (installer and portable ZIP)
- **Linux** (AppImage, binary)

## Build & Packaging

### Prerequisites
- Rust (latest stable)
- [ImageMagick](https://imagemagick.org) (for icon conversion)
- [NSIS](https://nsis.sourceforge.io/) (for Windows installer)
- [create-dmg](https://github.com/create-dmg/create-dmg) (for macOS DMG)

### Scripts
- `scripts/build.sh` — Cross-platform build and packaging for macOS/Linux. Handles:
  - macOS .app bundle and DMG creation
  - Icon embedding (uses `assets/$icon.png`)
  - Info.plist generation with correct bundle identifier and metadata
- `scripts/build.ps1` — Windows build and packaging. Handles:
  - Icon conversion (PNG to ICO)
  - NSIS installer creation with shortcuts and registry info
  - Portable ZIP package

### Example: Build for all platforms
```sh
# macOS (aarch64/x86_64 universal)
./scripts/build.sh

# Windows (from PowerShell)
./scripts/build.ps1

# Linux (AppImage, binary)
# (Add your own AppImage script or use build.sh for binary)
```

## Configuration & Icons
- App icons are in `assets/` (PNG for macOS/Linux, ICO for Windows is auto-generated)
- macOS Info.plist and Windows installer metadata are generated by the scripts
- User config is stored in a platform-appropriate directory (see code for details)

## GitHub Actions CI
- See `.github/workflows/ci.yml` for cross-platform build matrix (macOS aarch64/x86_64, Windows, Linux)

## License
MIT

---

> Copyright (c) 2025 Genxster1998 